{"ast":null,"code":"import _toConsumableArray from\"C:/Users/Lenovo/Documents/DH/Bimestre_3/Front3/fe3-final/fe3-final/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js\";import _slicedToArray from\"C:/Users/Lenovo/Documents/DH/Bimestre_3/Front3/fe3-final/fe3-final/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React,{useEffect,useState}from\"react\";import{useNavigate}from\"react-router-dom\";import doctor from\"../images/doctor.jpg\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";var Card=function Card(_ref){var name=_ref.name,username=_ref.username,id=_ref.id;var _useState=useState({}),_useState2=_slicedToArray(_useState,2),dentistState=_useState2[0],setDentistState=_useState2[1];var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),isFavorited=_useState4[0],setIsFavorited=_useState4[1];var navegar=useNavigate();var url='https://jsonplaceholder.typicode.com/users/'+id;useEffect(function(){fetch(url).then(function(res){return res.json();}).then(function(data){return setDentistState(data);});},[]);var addFav=function addFav(){setIsFavorited(function(prev){return!prev;});var favs=JSON.parse(localStorage.getItem('favs'))||[];var existingFav=favs.findIndex(function(fav){return fav.id===dentistState.id;});if(existingFav===-1){var newFavs=[].concat(_toConsumableArray(favs),[dentistState]);localStorage.setItem('favs',JSON.stringify(newFavs));}else{var _newFavs=favs.filter(function(fav){return fav.id!==dentistState.id;});localStorage.setItem('favs',JSON.stringify(_newFavs));}};useEffect(function(){var favs=JSON.parse(localStorage.getItem('favs'))||[];var existingFav=favs.findIndex(function(fav){return fav.id===id;});if(existingFav!==-1){setIsFavorited(true);}},[id]);var remover='Remove from Favorites';var agg='Add to Favorites';return/*#__PURE__*/_jsxs(\"div\",{className:\"card\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"intCard\",onClick:function onClick(){return navegar(\"/details/\".concat(id));},children:[isFavorited&&/*#__PURE__*/_jsx(\"p\",{className:\"fav\",children:\"\\u2605\"}),/*#__PURE__*/_jsx(\"img\",{className:\"imagen\",src:doctor,alt:\"doctor\"}),/*#__PURE__*/_jsx(\"h4\",{children:name}),/*#__PURE__*/_jsx(\"h4\",{children:username}),/*#__PURE__*/_jsx(\"h4\",{children:id})]},id),/*#__PURE__*/_jsx(\"button\",{onClick:addFav,className:\"favButton\",children:isFavorited?remover:agg})]});};export default Card;","map":{"version":3,"names":["React","useEffect","useState","useNavigate","doctor","Card","name","username","id","dentistState","setDentistState","isFavorited","setIsFavorited","navegar","url","fetch","then","res","json","data","addFav","prev","favs","JSON","parse","localStorage","getItem","existingFav","findIndex","fav","newFavs","setItem","stringify","filter","remover","agg"],"sources":["C:/Users/Lenovo/Documents/DH/Bimestre_3/Front3/fe3-final/fe3-final/src/Components/Card.jsx"],"sourcesContent":["import React, { useEffect, useState } from \"react\";\r\nimport { useNavigate } from \"react-router-dom\";\r\nimport doctor from \"../images/doctor.jpg\";\r\n\r\nconst Card = ({ name, username, id }) => {\r\n  const [dentistState, setDentistState] = useState({});\r\n  const [isFavorited, setIsFavorited] = useState(false);\r\n  const navegar = useNavigate()\r\n\r\n  const url = 'https://jsonplaceholder.typicode.com/users/' + id;\r\n\r\n  useEffect(() => {\r\n    fetch(url)\r\n      .then(res => res.json())\r\n      .then(data => setDentistState(data))\r\n  }, [])\r\n\r\n  const addFav = () => {\r\n    setIsFavorited(prev => !prev);\r\n    const favs = JSON.parse(localStorage.getItem('favs')) || [];\r\n\r\n    const existingFav = favs.findIndex(fav => fav.id === dentistState.id);\r\n    \r\n    if (existingFav === -1) {\r\n      const newFavs = [...favs, dentistState];\r\n      localStorage.setItem('favs', JSON.stringify(newFavs));\r\n    } else {\r\n      const newFavs = favs.filter((fav) => fav.id !== dentistState.id);\r\n      localStorage.setItem('favs', JSON.stringify(newFavs));\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    const favs = JSON.parse(localStorage.getItem('favs')) || [];\r\n    const existingFav = favs.findIndex(fav => fav.id === id);\r\n    if (existingFav !== -1) {\r\n      setIsFavorited(true);\r\n    }\r\n  }, [id])\r\n  const remover  = 'Remove from Favorites'\r\n  const agg = 'Add to Favorites'\r\n\r\n  return (\r\n    <div  className=\"card\" >\r\n    <div  className=\"intCard\" key={id} onClick={()=> navegar(`/details/${id}`)}>\r\n      {isFavorited && <p className=\"fav\" >â˜…</p>}\r\n      <img className=\"imagen\" src={doctor} alt=\"doctor\"  />\r\n      <h4>{name}</h4>\r\n      <h4>{username}</h4>\r\n      <h4>{id}</h4>\r\n    </div> \r\n    <button onClick={addFav} className=\"favButton\">\r\n        {isFavorited ? remover  :  agg }\r\n      </button>\r\n    \r\n    </div>\r\n  );\r\n}\r\n\r\nexport default Card;"],"mappings":"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"},"metadata":{},"sourceType":"module"}